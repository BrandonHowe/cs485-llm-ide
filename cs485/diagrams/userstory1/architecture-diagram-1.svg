<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 3661.69px; background-color: transparent;" viewBox="0 0 3661.6875 638.368896484375" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:24px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:24px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"><g class="cluster" id="Cloud" data-look="classic"><rect style="" x="1611.03125" y="51.18443298339844" width="390.921875" height="213"/><g class="cluster-label" transform="translate(1706.4921875, 51.18443298339844)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>LLM Provider (Cloud)</p></span></div></foreignObject></g></g><g class="cluster" id="Local" data-look="classic"><rect style="" x="2851.0625" y="8" width="802.625" height="324.3688659667969"/><g class="cluster-label" transform="translate(3145.71875, 8)"><foreignObject width="213.3125" height="108"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Local Persistence (Workspace/Profile Storage)</p></span></div></foreignObject></g></g><g class="cluster" id="Server" data-look="classic"><rect style="" x="895.59375" y="80.36886596679688" width="310" height="228"/><g class="cluster-label" transform="translate(950.59375, 80.36886596679688)"><foreignObject width="200" height="108"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Extension Host / Remote Agent (Server Process)</p></span></div></foreignObject></g></g><g class="cluster" id="Client" data-look="classic"><rect style="" x="8" y="352.3688659667969" width="3267.171875" height="278"/><g class="cluster-label" transform="translate(1541.5859375, 352.3688659667969)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Workbench Renderer (Client)</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M201.406,540.369L222.24,540.369C243.073,540.369,284.74,540.369,325.74,540.369C366.74,540.369,407.073,540.369,427.24,540.369L447.406,540.369" id="L_Dev_ChatUI_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Dev_ChatUI_0" data-points="W3sieCI6MjAxLjQwNjI1LCJ5Ijo1NDAuMzY4ODY1OTY2Nzk2OX0seyJ4IjozMjYuNDA2MjUsInkiOjU0MC4zNjg4NjU5NjY3OTY5fSx7IngiOjQ1MS40MDYyNSwieSI6NTQwLjM2ODg2NTk2Njc5Njl9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M708.673,489.369L724.478,483.036C740.282,476.702,771.891,464.036,803.045,457.702C834.198,451.369,864.896,451.369,898.507,422.267C932.118,393.165,968.643,334.961,986.906,305.859L1005.168,276.757" id="L_ChatUI_ChatSvc_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ChatUI_ChatSvc_0" data-points="W3sieCI6NzA4LjY3MzQ1NTA1NjE3OTgsInkiOjQ4OS4zNjg4NjU5NjY3OTY5fSx7IngiOjgwMy41LCJ5Ijo0NTEuMzY4ODY1OTY2Nzk2OX0seyJ4Ijo4OTUuNTkzNzUsInkiOjQ1MS4zNjg4NjU5NjY3OTY5fSx7IngiOjEwMDcuMjk0MTU0ODU4Mjk5NiwieSI6MjczLjM2ODg2NTk2Njc5Njl9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1180.594,144.666L1184.76,142.752C1188.927,140.839,1197.26,137.012,1235.214,135.098C1273.167,133.184,1340.74,133.184,1408.313,133.184C1475.885,133.184,1543.458,133.184,1587.495,134.6C1631.531,136.016,1652.03,138.848,1662.28,140.264L1672.53,141.68" id="L_ChatSvc_LLM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ChatSvc_LLM_0" data-points="W3sieCI6MTE4MC41OTM3NSwieSI6MTQ0LjY2NTc5MzE0MjAxMTF9LHsieCI6MTIwNS41OTM3NSwieSI6MTMzLjE4NDQzMjk4MzM5ODQ0fSx7IngiOjE0MDguMzEyNSwieSI6MTMzLjE4NDQzMjk4MzM5ODQ0fSx7IngiOjE2MTEuMDMxMjUsInkiOjEzMy4xODQ0MzI5ODMzOTg0NH0seyJ4IjoxNjc2LjQ5MjE4NzUsInkiOjE0Mi4yMjY4ODA3MjMxMTYyN31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1676.492,191.444L1665.582,194.067C1654.672,196.691,1632.852,201.938,1588.155,204.561C1543.458,207.184,1475.885,207.184,1408.313,207.184C1340.74,207.184,1273.167,207.184,1235.88,207.121C1198.594,207.057,1191.593,206.93,1188.093,206.867L1184.593,206.803" id="L_LLM_ChatSvc_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LLM_ChatSvc_0" data-points="W3sieCI6MTY3Ni40OTIxODc1LCJ5IjoxOTEuNDQzODc1ODA2ODUyNjJ9LHsieCI6MTYxMS4wMzEyNSwieSI6MjA3LjE4NDQzMjk4MzM5ODQ0fSx7IngiOjE0MDguMzEyNSwieSI6MjA3LjE4NDQzMjk4MzM5ODQ0fSx7IngiOjEyMDUuNTkzNzUsInkiOjIwNy4xODQ0MzI5ODMzOTg0NH0seyJ4IjoxMTgwLjU5Mzc1LCJ5IjoyMDYuNzMwMzA5MjcxMDQzMzV9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1180.594,223.505L1184.76,224.118C1188.927,224.731,1197.26,225.958,1235.214,262.435C1273.167,298.913,1340.74,370.641,1408.313,406.505C1475.885,442.369,1543.458,442.369,1580.745,442.369C1618.031,442.369,1625.031,442.369,1628.531,442.369L1632.031,442.369" id="L_ChatSvc_Bridge_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_ChatSvc_Bridge_0" data-points="W3sieCI6MTE4MC41OTM3NSwieSI6MjIzLjUwNDUwMjgxOTQzMDQ2fSx7IngiOjEyMDUuNTkzNzUsInkiOjIyNy4xODQ0MzI5ODMzOTg0NH0seyJ4IjoxNDA4LjMxMjUsInkiOjQ0Mi4zNjg4NjU5NjY3OTY5fSx7IngiOjE2MTEuMDMxMjUsInkiOjQ0Mi4zNjg4NjU5NjY3OTY5fSx7IngiOjE2MzYuMDMxMjUsInkiOjQ0Mi4zNjg4NjU5NjY3OTY5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M1976.953,442.369L1981.12,442.369C1985.286,442.369,1993.62,442.369,2018.62,442.369C2043.62,442.369,2085.286,442.369,2126.286,442.369C2167.286,442.369,2207.62,442.369,2227.786,442.369L2247.953,442.369" id="L_Bridge_HistSvc_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Bridge_HistSvc_0" data-points="W3sieCI6MTk3Ni45NTMxMjUsInkiOjQ0Mi4zNjg4NjU5NjY3OTY5fSx7IngiOjIwMDEuOTUzMTI1LCJ5Ijo0NDIuMzY4ODY1OTY2Nzk2OX0seyJ4IjoyMTI2Ljk1MzEyNSwieSI6NDQyLjM2ODg2NTk2Njc5Njl9LHsieCI6MjI1MS45NTMxMjUsInkiOjQ0Mi4zNjg4NjU5NjY3OTY5fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2601.063,463.929L2621.896,466.503C2642.729,469.076,2684.396,474.222,2726.063,476.796C2767.729,479.369,2809.396,479.369,2842.495,482.377C2875.595,485.385,2900.127,491.4,2912.393,494.408L2924.659,497.416" id="L_HistSvc_HistView_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HistSvc_HistView_0" data-points="W3sieCI6MjYwMS4wNjI1LCJ5Ijo0NjMuOTI5MjgxMTY2NDQyMn0seyJ4IjoyNzI2LjA2MjUsInkiOjQ3OS4zNjg4NjU5NjY3OTY5fSx7IngiOjI4NTEuMDYyNSwieSI6NDc5LjM2ODg2NTk2Njc5Njl9LHsieCI6MjkyOC41NDQwMjA0MzI2OTI0LCJ5Ijo0OTguMzY4ODY1OTY2Nzk2OX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2601.063,420.808L2621.896,418.235C2642.729,415.662,2684.396,410.515,2726.063,407.942C2767.729,405.369,2809.396,405.369,2860.187,372.006C2910.979,338.643,2970.896,271.917,3000.854,238.555L3030.812,205.192" id="L_HistSvc_Store_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HistSvc_Store_0" data-points="W3sieCI6MjYwMS4wNjI1LCJ5Ijo0MjAuODA4NDUwNzY3MTUxNTZ9LHsieCI6MjcyNi4wNjI1LCJ5Ijo0MDUuMzY4ODY1OTY2Nzk2OX0seyJ4IjoyODUxLjA2MjUsInkiOjQwNS4zNjg4NjU5NjY3OTY5fSx7IngiOjMwMzMuNDg0NzE5OTg4ODQ3LCJ5IjoyMDIuMjE1NTc2MTcxODc1fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3155.082,136.216L3175.097,129.034C3195.112,121.852,3235.142,107.487,3259.324,100.305C3283.505,93.123,3291.839,93.123,3304.879,93.123C3317.919,93.123,3335.667,93.123,3344.54,93.123L3353.414,93.123" id="L_Store_Index_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Store_Index_0" data-points="W3sieCI6MzE1NS4wODE5NzcyMDA0NDcsInkiOjEzNi4yMTU1NzYxNzE4NzV9LHsieCI6MzI3NS4xNzE4NzUsInkiOjkzLjEyMzM1OTY4MDE3NTc4fSx7IngiOjMzMDAuMTcxODc1LCJ5Ijo5My4xMjMzNTk2ODAxNzU3OH0seyJ4IjozMzU3LjQxNDA2MjUsInkiOjkzLjEyMzM1OTY4MDE3NTc4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M3155.082,202.216L3175.097,209.398C3195.112,216.58,3235.142,230.944,3259.324,238.126C3283.505,245.308,3291.839,245.308,3299.505,245.308C3307.172,245.308,3314.172,245.308,3317.672,245.308L3321.172,245.308" id="L_Store_Threads_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Store_Threads_0" data-points="W3sieCI6MzE1NS4wODE5NzcyMDA0NDcsInkiOjIwMi4yMTU1NzYxNzE4NzV9LHsieCI6MzI3NS4xNzE4NzUsInkiOjI0NS4zMDc3OTI2NjM1NzQyMn0seyJ4IjozMzAwLjE3MTg3NSwieSI6MjQ1LjMwNzc5MjY2MzU3NDIyfSx7IngiOjMzMjUuMTcxODc1LCJ5IjoyNDUuMzA3NzkyNjYzNTc0MjJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M2876.063,556.068L2871.896,556.618C2867.729,557.168,2859.396,558.269,2834.396,558.819C2809.396,559.369,2767.729,559.369,2696.97,559.369C2626.211,559.369,2526.359,559.369,2426.508,559.369C2326.656,559.369,2226.805,559.369,2156.046,559.369C2085.286,559.369,2043.62,559.369,1990.21,559.369C1936.799,559.369,1871.646,559.369,1806.492,559.369C1741.339,559.369,1676.185,559.369,1609.822,559.369C1543.458,559.369,1475.885,559.369,1408.313,559.369C1340.74,559.369,1273.167,559.369,1213.547,559.369C1153.927,559.369,1102.26,559.369,1050.594,559.369C998.927,559.369,947.26,559.369,906.078,559.369C864.896,559.369,834.198,559.369,804.164,558.113C774.131,556.856,744.761,554.344,730.076,553.088L715.392,551.831" id="L_HistView_ChatUI_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_HistView_ChatUI_0" data-points="W3sieCI6Mjg3Ni4wNjI1LCJ5Ijo1NTYuMDY3ODMwNzA5MDg3N30seyJ4IjoyODUxLjA2MjUsInkiOjU1OS4zNjg4NjU5NjY3OTY5fSx7IngiOjI3MjYuMDYyNSwieSI6NTU5LjM2ODg2NTk2Njc5Njl9LHsieCI6MjQyNi41MDc4MTI1LCJ5Ijo1NTkuMzY4ODY1OTY2Nzk2OX0seyJ4IjoyMTI2Ljk1MzEyNSwieSI6NTU5LjM2ODg2NTk2Njc5Njl9LHsieCI6MjAwMS45NTMxMjUsInkiOjU1OS4zNjg4NjU5NjY3OTY5fSx7IngiOjE4MDYuNDkyMTg3NSwieSI6NTU5LjM2ODg2NTk2Njc5Njl9LHsieCI6MTYxMS4wMzEyNSwieSI6NTU5LjM2ODg2NTk2Njc5Njl9LHsieCI6MTQwOC4zMTI1LCJ5Ijo1NTkuMzY4ODY1OTY2Nzk2OX0seyJ4IjoxMjA1LjU5Mzc1LCJ5Ijo1NTkuMzY4ODY1OTY2Nzk2OX0seyJ4IjoxMDUwLjU5Mzc1LCJ5Ijo1NTkuMzY4ODY1OTY2Nzk2OX0seyJ4Ijo4OTUuNTkzNzUsInkiOjU1OS4zNjg4NjU5NjY3OTY5fSx7IngiOjgwMy41LCJ5Ijo1NTkuMzY4ODY1OTY2Nzk2OX0seyJ4Ijo3MTEuNDA2MjUsInkiOjU1MS40OTAyOTU1NDMyNzA4fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(326.40625, 540.3688659667969)"><g class="label" data-id="L_Dev_ChatUI_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Prompt text + context</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(803.5, 451.3688659667969)"><g class="label" data-id="L_ChatUI_ChatSvc_0" transform="translate(-67.09375, -18)"><foreignObject width="134.1875" height="36"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>sendRequest</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1408.3125, 133.18443298339844)"><g class="label" data-id="L_ChatSvc_LLM_0" transform="translate(-42.4453125, -18)"><foreignObject width="84.890625" height="36"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Request</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1408.3125, 207.18443298339844)"><g class="label" data-id="L_LLM_ChatSvc_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Streaming tokens + final response</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1408.3125, 442.3688659667969)"><g class="label" data-id="L_ChatSvc_Bridge_0" transform="translate(-177.71875, -36)"><foreignObject width="355.4375" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>onDidCreateModel/onDidChange events</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2126.953125, 442.3688659667969)"><g class="label" data-id="L_Bridge_HistSvc_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Normalized turn updates</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2726.0625, 479.3688659667969)"><g class="label" data-id="L_HistSvc_HistView_0" transform="translate(-100, -36)"><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Observable updates</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(2726.0625, 405.3688659667969)"><g class="label" data-id="L_HistSvc_Store_0" transform="translate(-71.5390625, -18)"><foreignObject width="143.078125" height="36"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Persist deltas</p></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Store_Index_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Store_Threads_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(1806.4921875, 559.3688659667969)"><g class="label" data-id="L_HistView_ChatUI_0" transform="translate(-101.296875, -36)"><foreignObject width="202.59375" height="72"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="edgeLabel"><p>Copy/Reuse/Open Session</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Dev-0" transform="translate(117.203125, 540.3688659667969)"><rect class="basic label-container" style="" x="-84.203125" y="-33" width="168.40625" height="66"/><g class="label" style="" transform="translate(-54.203125, -18)"><rect/><foreignObject width="108.40625" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Developer</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ChatUI-1" transform="translate(581.40625, 540.3688659667969)"><rect class="basic label-container" style="" x="-130" y="-51" width="260" height="102"/><g class="label" style="" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Existing Chat UI (chat contrib)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Bridge-2" transform="translate(1806.4921875, 442.3688659667969)"><rect class="basic label-container" style="" x="-170.4609375" y="-33" width="340.921875" height="66"/><g class="label" style="" transform="translate(-140.4609375, -18)"><rect/><foreignObject width="280.921875" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>VSCloneChatSessionBridge</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-HistSvc-3" transform="translate(2426.5078125, 442.3688659667969)"><rect class="basic label-container" style="" x="-174.5546875" y="-33" width="349.109375" height="66"/><g class="label" style="" transform="translate(-144.5546875, -18)"><rect/><foreignObject width="289.109375" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>VSCloneChatHistoryService</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-HistView-4" transform="translate(3063.1171875, 531.3688659667969)"><rect class="basic label-container" style="" x="-187.0546875" y="-33" width="374.109375" height="66"/><g class="label" style="" transform="translate(-157.0546875, -18)"><rect/><foreignObject width="314.109375" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>VSCloneChatHistoryViewPane</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-ChatSvc-5" transform="translate(1050.59375, 204.36886596679688)"><rect class="basic label-container" style="" x="-130" y="-69" width="260" height="138"/><g class="label" style="" transform="translate(-100, -54)"><rect/><foreignObject width="200" height="108"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>IChatService + IChatModel (existing)</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Store-6" transform="translate(3063.1171875, 169.215576171875)"><rect class="basic label-container" style="" x="-163.96875" y="-33" width="327.9375" height="66"/><g class="label" style="" transform="translate(-133.96875, -18)"><rect/><foreignObject width="267.9375" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>VSCloneChatHistoryStore</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Index-7" transform="translate(3476.9296875, 93.12335968017578)"><path d="M0,16.415572152116063 a119.515625,16.415572152116063 0,0,0 239.03125,0 a119.515625,16.415572152116063 0,0,0 -239.03125,0 l0,67.41557215211606 a119.515625,16.415572152116063 0,0,0 239.03125,0 l0,-67.41557215211606" class="basic label-container" style="" transform="translate(-119.515625, -50.12335822817409)"/><g class="label" style="" transform="translate(-112.015625, -8)"><rect/><foreignObject width="224.03125" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>history.index.v1.json</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-Threads-8" transform="translate(3476.9296875, 245.30779266357422)"><path d="M0,17.707383773928896 a151.7578125,17.707383773928896 0,0,0 303.515625,0 a151.7578125,17.707383773928896 0,0,0 -303.515625,0 l0,68.7073837739289 a151.7578125,17.707383773928896 0,0,0 303.515625,0 l0,-68.7073837739289" class="basic label-container" style="" transform="translate(-151.7578125, -52.061075660893344)"/><g class="label" style="" transform="translate(-144.2578125, -8)"><rect/><foreignObject width="288.515625" height="36"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>threads/{threadId}.v1.json</p></span></div></foreignObject></g></g><g class="node default" id="flowchart-LLM-9" transform="translate(1806.4921875, 160.18443298339844)"><rect class="basic label-container" style="" x="-130" y="-69" width="260" height="138"/><g class="label" style="" transform="translate(-100, -54)"><rect/><foreignObject width="200" height="108"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Model API (existing provider path)</p></span></div></foreignObject></g></g></g></g></g></svg>